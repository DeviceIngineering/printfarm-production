# ‚úÖ PrintFarm v4.2.0 - –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–î–∞—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**: 2025-09-05 21:24 MSK  
**–ú–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**: Simple Autostart (crontab)  
**–°–µ—Ä–≤–µ—Ä**: kemomail3.keenetic.pro

## üéØ –°—Ç–∞—Ç—É—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

1. **üìú –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞**: `/home/printfarm/printfarm-test/scripts/printfarm-startup.sh`
2. **üìä –°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**: `/home/printfarm/printfarm-test/scripts/printfarm-monitor.sh`
3. **‚è∞ Crontab –Ω–∞—Å—Ç—Ä–æ–µ–Ω**: –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ + –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
4. **üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã**: PostgreSQL, Redis, Backend, Unified App
5. **üåê –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —Ä–∞–±–æ—Ç–∞–µ—Ç**: http://kemomail3.keenetic.pro:13000

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ crontab:

```cron
# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 60 —Å–µ–∫)
@reboot sleep 60 && /home/printfarm/printfarm-test/scripts/printfarm-startup.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * /home/printfarm/printfarm-test/scripts/printfarm-monitor.sh

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00
0 2 * * * find /home/printfarm/printfarm-test/logs -name "*.log" -mtime +7 -delete

# –û—á–∏—Å—Ç–∫–∞ Docker –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00
0 3 * * 0 docker system prune -f --volumes
```

## üê≥ –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ü–æ—Ä—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|------|--------|
| printfarm_remote_db | 15432 | ‚úÖ Healthy |
| printfarm_remote_redis | 16379 | ‚úÖ Healthy |
| printfarm-test-backend | 18000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) | ‚úÖ Running |
| printfarm-unified-app | 13000 | ‚úÖ Running |

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

- **–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://kemomail3.keenetic.pro:13000
- **API**: http://kemomail3.keenetic.pro:13000/api/v1/
- **Django Admin**: http://kemomail3.keenetic.pro:13000/admin/
- **Health Check**: http://kemomail3.keenetic.pro:13000/api/v1/health/

### üîê –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

- **Admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `admin` / `admin123`
- **API Token**: `0a8fee03bca2b530a15b1df44d38b304e3f57484`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/home/printfarm/printfarm-test/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ printfarm-startup.sh      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ printfarm-monitor.sh      # –°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îú‚îÄ‚îÄ autostart.log            # –õ–æ–≥–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ monitor.log              # –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ .env.remote                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ backend/                     # –ö–æ–¥ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ frontend/                    # Frontend –∫–æ–¥
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
# –õ–æ–≥–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
ssh -p 2132 printfarm@kemomail3.keenetic.pro "tail -f /home/printfarm/printfarm-test/logs/autostart.log"

# –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
ssh -p 2132 printfarm@kemomail3.keenetic.pro "tail -f /home/printfarm/printfarm-test/logs/monitor.log"

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ssh -p 2132 printfarm@kemomail3.keenetic.pro "docker ps --filter 'name=printfarm'"
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º:

```bash
# –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é
ssh -p 2132 printfarm@kemomail3.keenetic.pro "/home/printfarm/printfarm-test/scripts/printfarm-startup.sh"

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ssh -p 2132 printfarm@kemomail3.keenetic.pro "docker stop \$(docker ps -q --filter 'name=printfarm')"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
ssh -p 2132 printfarm@kemomail3.keenetic.pro "/home/printfarm/printfarm-test/scripts/printfarm-startup.sh"
```

## ‚ö° –§—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

### üöÄ –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã:
1. –û–∂–∏–¥–∞–Ω–∏–µ 60 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ PrintFarm
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ PostgreSQL –∏ Redis
4. –ó–∞–ø—É—Å–∫ Backend —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
5. –°–æ–∑–¥–∞–Ω–∏–µ admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç–æ–∫–µ–Ω–∞
6. –ó–∞–ø—É—Å–∫ Unified App (Frontend + API proxy)
7. Health check –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç):
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. Health check API
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

### üßπ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:
- **–õ–æ–≥–∏**: —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00)
- **Docker**: –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –∏ volumes (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –≤ 3:00)

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã:

1. **API Health Check**: 
   ```json
   {"status": "healthy", "version": "4.2.0", "environment": "production"}
   ```

2. **Frontend –¥–æ—Å—Ç—É–ø–µ–Ω**: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

3. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã**: –í—Å–µ 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç

4. **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø**: –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å –≤–Ω–µ—à–Ω–∏—Ö IP

5. **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω**: Crontab —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ï—Å–ª–∏ –Ω—É–∂–µ–Ω systemd (—Ç—Ä–µ–±—É–µ—Ç sudo):

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å—Ç—å —Ç–∞–∫–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è systemd:
- `/tmp/quick-install.sh` - —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å systemd
- Systemd service —Ñ–∞–π–ª –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç—ã:

–ü–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ `/home/printfarm/printfarm-test/scripts/printfarm-startup.sh`:
- PostgreSQL: 15432
- Redis: 16379  
- Backend: 18000
- Unified App: 13000

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞**: ~60-90 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**: ~2GB RAM, minimal CPU
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è**: ~30 —Å–µ–∫—É–Ω–¥
- **Health check**: –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ** - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
2. **üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
3. **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
4. **üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞** - –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö

---

**üéâ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ PrintFarm v4.2.0 —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!**  
**üåê –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: http://kemomail3.keenetic.pro:13000**
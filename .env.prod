# PrintFarm v3.3.4 - Production Environment Configuration
# Copy this file and customize for your production server

# ==============================================
# DJANGO CONFIGURATION
# ==============================================

# Security - CHANGE THIS\!
SECRET_KEY=Ha5qd0BAvWh1tVJc1FHrMjJoBOd7pczrlRaOLnf3eGdJWttqjKV1vJSfKfCgubeSU9U
DEBUG=False

# Allowed hosts (comma-separated, no spaces)
ALLOWED_HOSTS=localhost,127.0.0.1,192.168.1.98,kemomail3.keenetic.pro

# CORS settings for API access - allow both IP and domain access
CORS_ALLOWED_ORIGINS=http://192.168.1.98:8080,http://kemomail3.keenetic.pro:8080,http://192.168.1.98:3001,http://localhost:3000
CORS_ALLOW_ALL_ORIGINS=true

# ==============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==============================================

POSTGRES_DB=printfarm_production
POSTGRES_USER=printfarm_prod_user
POSTGRES_PASSWORD=super-secure-database-password-change-this
DATABASE_URL=postgresql://printfarm_prod_user:super-secure-database-password-change-this@db:5432/printfarm_production

# ==============================================
# REDIS CONFIGURATION
# ==============================================

REDIS_URL=redis://redis:6379/0

# ==============================================
# CELERY CONFIGURATION
# ==============================================

CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ==============================================
# МОИСКЛАД API CONFIGURATION
# ==============================================

# Your MoySklad API token
MOYSKLAD_TOKEN=f9be4985f5e3488716c040ca52b8e04c7c0f9e0b

# Default warehouse ID from MoySklad
MOYSKLAD_DEFAULT_WAREHOUSE=241ed919-a631-11ee-0a80-07a9000bb947

# API settings
MOYSKLAD_API_BASE_URL=https://api.moysklad.ru/api/remap/1.2
MOYSKLAD_RATE_LIMIT=5
MOYSKLAD_TIMEOUT=30

# ==============================================
# FRONTEND CONFIGURATION
# ==============================================

# API URL that frontend will use to connect to backend
# UPDATE THIS TO YOUR SERVER IP/DOMAIN
REACT_APP_API_URL=http://192.168.1.98:8001/api/v1

# Production build settings
NODE_ENV=production
GENERATE_SOURCEMAP=false

# ==============================================
# LOGGING CONFIGURATION
# ==============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log to file
LOG_TO_FILE=true
LOG_FILE_PATH=/app/logs/printfarm.log

# ==============================================
# BACKUP CONFIGURATION
# ==============================================

# Automatic database backup settings
AUTO_BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ==============================================
# SECURITY SETTINGS
# ==============================================

# SSL/HTTPS settings
SECURE_SSL_REDIRECT=false
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# Session security
SESSION_COOKIE_SECURE=false  # Set to true if using HTTPS
CSRF_COOKIE_SECURE=false    # Set to true if using HTTPS

# ==============================================
# PERFORMANCE SETTINGS
# ==============================================

# Database connection pool
DB_CONN_MAX_AGE=3600

# Static files
STATIC_ROOT=/app/static
MEDIA_ROOT=/app/media

# ==============================================
# MONITORING (Optional)
# ==============================================

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Email settings for notifications (optional)
# EMAIL_HOST=smtp.your-provider.com
# EMAIL_PORT=587
# EMAIL_HOST_USER=noreply@yourcompany.com
# EMAIL_HOST_PASSWORD=your-email-password
# EMAIL_USE_TLS=true

# Admin notification email
# ADMIN_EMAIL=admin@yourcompany.com

# ==============================================
# CUSTOM SETTINGS
# ==============================================

# PrintFarm specific settings
PRINTFARM_VERSION=3.3.4
PRINTFARM_ENVIRONMENT=production

# Reserve stock feature (v3.3.4)
ENABLE_RESERVE_STOCK=true

# Production calculation settings
PRODUCTION_DEFAULT_TARGET_DAYS=15
PRODUCTION_CRITICAL_STOCK_THRESHOLD=5

# ==============================================
# EXTERNAL INTEGRATIONS
# ==============================================

# Simple Print API (if using)
# SIMPLEPRINT_API_KEY=your-api-key
# SIMPLEPRINT_COMPANY_ID=27286
# SIMPLEPRINT_USER_ID=31471

# ==============================================
# DEVELOPMENT/DEBUG (Production should be false)
# ==============================================

# Set all these to False in production
DEBUG_TOOLBAR=false
TEMPLATE_DEBUG=false
SQL_DEBUG=false